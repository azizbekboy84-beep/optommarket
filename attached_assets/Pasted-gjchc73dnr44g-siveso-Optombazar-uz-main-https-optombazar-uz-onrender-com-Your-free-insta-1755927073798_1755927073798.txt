gjchc73dnr44g

siveso / Optombazar.uz
main
https://optombazar-uz.onrender.com

Your free instance will spin down with inactivity, which can delay requests by 50 seconds or more.
Upgrade now
August 23, 2025 at 9:50 AM
failed
cbdafc6
Ensure Vite is only active during development mode Update server/index.ts to dynamically import Vite-related functionalities, ensuring they only run in a development environment (NODE_ENV === "development") and are excluded from production builds. Replit-Commit-Author: Agent Replit-Commit-Session-Id: e2aeac67-acf1-471f-87eb-11e0f4f542d6 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/65e0e882-0727-43dc-a9d2-f715602d54cf/e2aeac67-acf1-471f-87eb-11e0f4f542d6/feQ28wN

Rollback

All logs
Search
Search

Live tail
GMT+5

Menu

==> Cloning from https://github.com/siveso/Optombazar.uz
==> Checking out commit cbdafc685b39857bced00cc79528b0c2bb4fa01c in branch main
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 706B done
#1 DONE 0.2s
#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 ...
#3 [auth] library/node:pull render-prod/docker-mirror-repository/library/node:pull token for us-west1-docker.pkg.dev
#3 DONE 0.0s
#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 6.6s
#4 [internal] load .dockerignore
#4 transferring context: 229B 0.0s done
#4 DONE 0.3s
#5 [internal] load build context
#5 DONE 0.0s
#6 [ 1/10] FROM docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#6 resolve docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#6 resolve docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799 0.2s done
#6 sha256:a9e48ad1219d4d11c6456a8db0fd5c11af46242d52edf84e17ab84a7bfd93809 0B / 445B 0.2s
#6 sha256:54225bd601967a0aa669ec9be621c24d8eeac874b698d55874018070898685c2 0B / 1.26MB 0.3s
#6 ...
#5 [internal] load build context
#5 transferring context: 8.16MB 1.0s done
#5 DONE 1.8s
#6 [ 1/10] FROM docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#6 sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 0B / 3.80MB 0.3s
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 0B / 42.99MB 0.2s
#6 sha256:a9e48ad1219d4d11c6456a8db0fd5c11af46242d52edf84e17ab84a7bfd93809 445B / 445B 1.1s
#6 sha256:a9e48ad1219d4d11c6456a8db0fd5c11af46242d52edf84e17ab84a7bfd93809 445B / 445B 1.3s done
#6 sha256:54225bd601967a0aa669ec9be621c24d8eeac874b698d55874018070898685c2 1.26MB / 1.26MB 2.3s done
#6 sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 3.80MB / 3.80MB 3.5s done
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 8.39MB / 42.99MB 3.6s
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 15.73MB / 42.99MB 3.8s
#6 extracting sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8
#6 extracting sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 0.5s done
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 25.17MB / 42.99MB 5.3s
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 33.55MB / 42.99MB 7.1s
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 41.10MB / 42.99MB 7.2s
#6 sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 42.99MB / 42.99MB 7.5s done
#6 extracting sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e
#6 extracting sha256:8c59d92d6fc9f01af4aaa86824be72b74bd4d940c4c46aa95d9710bfa46c975e 3.7s done
#6 DONE 13.1s
#6 [ 1/10] FROM docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#6 extracting sha256:54225bd601967a0aa669ec9be621c24d8eeac874b698d55874018070898685c2
#6 extracting sha256:54225bd601967a0aa669ec9be621c24d8eeac874b698d55874018070898685c2 0.4s done
#6 extracting sha256:a9e48ad1219d4d11c6456a8db0fd5c11af46242d52edf84e17ab84a7bfd93809
#6 extracting sha256:a9e48ad1219d4d11c6456a8db0fd5c11af46242d52edf84e17ab84a7bfd93809 0.1s done
#6 DONE 13.6s
#7 [ 2/10] WORKDIR /app
#7 DONE 0.4s
#8 [ 3/10] COPY package*.json ./
#8 DONE 3.1s
#9 [ 4/10] RUN npm ci
#9 4.526 npm warn deprecated har-validator@5.1.5: this library is no longer supported
#9 5.161 npm warn deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
#9 6.953 npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
#9 6.967 npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
#9 7.645 npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
#9 13.14 
#9 13.14 added 665 packages, and audited 666 packages in 13s
#9 13.14 
#9 13.14 127 packages are looking for funding
#9 13.14   run `npm fund` for details
#9 13.17 
#9 13.17 16 vulnerabilities (3 low, 11 moderate, 2 critical)
#9 13.17 
#9 13.17 To address issues that do not require attention, run:
#9 13.17   npm audit fix
#9 13.17 
#9 13.17 To address all issues (including breaking changes), run:
#9 13.17   npm audit fix --force
#9 13.17 
#9 13.17 Run `npm audit` for details.
#9 13.17 npm notice
#9 13.17 npm notice New major version of npm available! 10.8.2 -> 11.5.2
#9 13.17 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
#9 13.17 npm notice To update run: npm install -g npm@11.5.2
#9 13.17 npm notice
#9 DONE 23.2s
#10 [ 5/10] COPY . .
#10 DONE 1.5s
#11 [ 6/10] RUN npm run build
#11 0.288 
#11 0.288 > rest-express@1.0.0 build
#11 0.288 > vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
#11 0.288 
#11 0.537 vite v5.4.19 building for production...
#11 0.607 transforming...
#11 1.119 Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
#11 1.119   npx update-browserslist-db@latest
#11 1.119   Why you should do it regularly: https://github.com/browserslist/update-db#readme
#11 9.770 ✓ 2594 modules transformed.
#11 10.56 rendering chunks...
#11 10.58 computing gzip size...
#11 10.62 ../dist/public/index.html                                             3.07 kB │ gzip:   1.30 kB
#11 10.62 ../dist/public/assets/optombazar logo_1755690917356-Chu8NA3g.png     23.36 kB
#11 10.62 ../dist/public/assets/QR to'lov_1755750030820-B7JQmtJP.jpg           81.32 kB
#11 10.62 ../dist/public/assets/index-CE4sDKtT.css                            109.58 kB │ gzip:  16.91 kB
#11 10.62 ../dist/public/assets/index-BBeKhPqn.js                           1,186.25 kB │ gzip: 330.15 kB
#11 10.62 
#11 10.62 (!) Some chunks are larger than 500 kB after minification. Consider:
#11 10.62 - Using dynamic import() to code-split the application
#11 10.62 - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#11 10.62 - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#11 10.62 ✓ built in 10.05s
#11 10.71 
#11 10.71   dist/index.js  165.3kb
#11 10.71 
#11 10.71 ⚡ Done in 10ms
#11 DONE 26.5s
#12 [ 7/10] RUN npm ci --only=production
#12 1.038 npm warn config only Use `--omit=dev` to omit dev dependencies from the install.
#12 38.38 npm warn deprecated har-validator@5.1.5: this library is no longer supported
#12 38.69 npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
#12 38.75 npm warn deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
#12 41.91 
#12 41.91 added 558 packages, and audited 559 packages in 41s
#12 41.91 
#12 41.91 115 packages are looking for funding
#12 41.91   run `npm fund` for details
#12 41.91 
#12 41.91 9 vulnerabilities (3 low, 4 moderate, 2 critical)
#12 41.91 
#12 41.91 To address issues that do not require attention, run:
#12 41.91   npm audit fix
#12 41.91 
#12 41.91 To address all issues (including breaking changes), run:
#12 41.91   npm audit fix --force
#12 41.91 
#12 41.91 Run `npm audit` for details.
#12 DONE 57.7s
#13 [ 8/10] RUN addgroup -g 1001 -S nodejs
#13 DONE 0.3s
#14 [ 9/10] RUN adduser -S optombazar -u 1001
#14 DONE 0.1s
#15 [10/10] RUN chown -R optombazar:nodejs /app
#15 DONE 110.3s
#16 exporting to docker image format
#16 exporting layers
#16 exporting layers 20.9s done
#16 exporting manifest sha256:44008692ad5d1d916680745c95bbce60e253c5c2896cc5db5a6cadc8efcc4035 done
#16 exporting config sha256:17d7168b03954acc61fad9fd74e5bbd10f185c82016fff618a95bf6c1bf5de5c done
#16 DONE 24.9s
#17 exporting cache to client directory
#17 preparing build cache for export
#17 writing cache manifest sha256:d28c6142774180260f4591462f679dc3532d2b95db39a7f51d13fe34b924339b
#17 writing cache manifest sha256:d28c6142774180260f4591462f679dc3532d2b95db39a7f51d13fe34b924339b 0.5s done
#17 DONE 11.8s
Pushing image to registry...
Upload succeeded
==> Deploying...
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js
node:internal/modules/esm/resolve:873
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/dist/index.js
    at packageResolve (node:internal/modules/esm/resolve:873:9)
    at moduleResolve (node:internal/modules/esm/resolve:946:18)
    at defaultResolve (node:internal/modules/esm/resolve:1188:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:642:12)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:591:25)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:574:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:236:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:130:49) {
  code: 'ERR_MODULE_NOT_FOUND'
}
Node.js v20.19.4
==> Exited with status 1
==> Common ways to troubleshoot your deploy: https://render.com/docs/troubleshooting-deploys
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js
node:internal/modules/esm/resolve:873
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/dist/index.js
    at packageResolve (node:internal/modules/esm/resolve:873:9)
    at moduleResolve (node:internal/modules/esm/resolve:946:18)
    at defaultResolve (node:internal/modules/esm/resolve:1188:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:642:12)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:591:25)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:574:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:236:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:130:49) {
  code: 'ERR_MODULE_NOT_FOUND'
}
Node.js v20.19.4